{% extends "base.html" %}
{% block content %}

<div class="card">
  <h3>Assign Teacher to Class</h3>

  {% if error %}
    <div class="alert bad">{{ error }}</div>
  {% endif %}

  <form method="POST" style="margin-top:12px;">
    <div class="grid2">
      <div class="field">
        <label>Teacher Email</label>
        <input name="teacher_email" placeholder="teacher1@it.com" required>
      </div>
      <div class="field">
        <label>Select Class</label>
        <select name="class_id" required>
          <option value="">Select</option>
          {% for c in classes %}
            <option value="{{ c['id'] }}">{{ c["name"] }} ({{ c["class_code"] }})</option>
          {% endfor %}
        </select>
      </div>
    </div>

    <div class="actions">
      <button class="btn primary" type="submit">Assign</button>
    </div>
  </form>
</div>

<div class="card" style="margin-top:14px;">
  <h3>Registered Teachers</h3>
  <table class="table">
    <tr><th>Name</th><th>Email</th><th>Dept</th></tr>
    {% for t in teachers %}
      <tr>
        <td>{{ t["name"] or "-" }}</td>
        <td>{{ t["email"] }}</td>
        <td>{{ t["dept"] or "-" }}</td>
      </tr>
    {% endfor %}
  </table>
</div>

{% endblock %}
