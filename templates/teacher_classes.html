{% extends "base.html" %}
{% block content %}
<div class="card">
  <h3>My Classes</h3>

  <form method="GET" action="/teacher/classes" style="margin-top:10px;">
    <label>Select Class</label>
    <select name="class_id" onchange="this.form.submit()">
      <option value="">-- Select --</option>
      {% for c in classes %}
        <option value="{{ c['id'] }}" {% if selected_class and selected_class['id'] == c['id'] %}selected{% endif %}>
          {{ c["name"] }} ({{ c["class_code"] }})
        </option>
      {% endfor %}
    </select>
  </form>

  {% if selected_class %}
    <hr>
    <h4>Enrolled Students ({{ selected_class["name"] }})</h4>

    {% if students %}
      <table class="table">
        <tr><th>Name</th><th>Email</th></tr>
        {% for s in students %}
          <tr><td>{{ s["name"] }}</td><td>{{ s["email"] }}</td></tr>
        {% endfor %}
      </table>
    {% else %}
      <p>No students enrolled yet.</p>
    {% endif %}
  {% endif %}
</div>
{% endblock %}
